function hexToRgb(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function getLuminance(e,t,n){const[s,o,i]=[e,t,n].map(e=>(e=e/255,e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)));return.2126*s+.7152*o+.0722*i}function getContrastingTextColor(e){const t=hexToRgb(e);if(!t)return"#ffffff";const n=getLuminance(t.r,t.g,t.b);return n>.5?"#000000":"#ffffff"}function updateBadgeColors(){const e=document.documentElement.getAttribute("data-theme")==="dark",t=e?"#000000":"#ffffff",n=e?"#000000":"#ffffff";document.querySelectorAll('.text-xs.px-2.py-1.rounded[style*="background-color: var(--primary)"]').forEach(e=>{e.style.color=t}),document.querySelectorAll('.text-xs.px-2.py-1.rounded[style*="background-color: var(--secondary)"]').forEach(e=>{e.style.color=n})}const RESUME_THEME_TO_ICON_CLASS={dark:"feather-moon",light:"feather-sun"},RESUME_THEME_TO_ICON_TEXT_CLASS={dark:"Dark mode",light:"Light mode"};function toggleTheme(e){const t=e.currentTarget.querySelector("a svg.feather");t.classList[1]===RESUME_THEME_TO_ICON_CLASS.dark?setThemeAndStore("light",[e.currentTarget]):t.classList[1]===RESUME_THEME_TO_ICON_CLASS.light&&setThemeAndStore("dark",[e.currentTarget])}function setTheme(e,t){const n=e==="dark";n?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme"),t.forEach(t=>{const s=RESUME_THEME_TO_ICON_CLASS[e].split("-")[1];t.querySelector("a").innerHTML=feather.icons[s].toSvg();const n=t.querySelector(".dark-theme-toggle-screen-reader-target");n&&(n.textContent=RESUME_THEME_TO_ICON_TEXT_CLASS[e])}),setTimeout(updateBadgeColors,50)}function setThemeAndStore(e,t){setTheme(e,t),localStorage.setItem("resumeDarkMode",e==="dark"?"true":"false")}document.addEventListener("DOMContentLoaded",function(){const e=localStorage.getItem("resumeDarkMode"),n=e!==null?e==="true"?"dark":"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",t=document.querySelectorAll(".dark-theme-toggle");setTheme(n,t),t.forEach(e=>e.addEventListener("click",toggleTheme,{capture:!0})),setTimeout(updateBadgeColors,100)})